;; ---------------------------------------------------------------------------
;; Category: Shared Agent Context
;; Shared permissions for skills, agents, and guidance files.
;; Source: 40-shared/agent-common.sb
;; ---------------------------------------------------------------------------

;; Shared authoring context:
;; - ~/.skills/ (full access)
;; - ~/.agents/ (full access)
;; - ~/AGENTS.md (full access)
;; - ~/.claude/agents, ~/.claude/skills, ~/CLAUDE.md (read-only)

(allow file-read* file-write*
    (home-subpath "/.skills")         ;; Shared skill instructions/scripts that agents may read or update.
    (home-subpath "/.agents")         ;; Agent config/skills directory (alternate location alongside ~/.skills).
    (home-literal "/AGENTS.md")       ;; Shared agent policy/instructions file read+write for local workflows.
)

(allow file-read*
    (home-subpath "/.claude/agents")  ;; Cross-agent convention: shared Claude agents directory.
    (home-subpath "/.claude/skills")  ;; Cross-agent convention: shared Claude skills directory.
    (home-literal "/CLAUDE.md")       ;; Cross-agent convention: repository/user guidance file.
)
