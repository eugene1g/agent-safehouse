;; ---------------------------------------------------------------------------
;; Agent: Goose
;; Goose CLI binary, state, and config paths.
;; Source: 60-agents/goose.sb
;; ---------------------------------------------------------------------------

;; - install script and package-manager installs commonly place `goose` under ~/.local/bin
;; - local state/config paths (XDG + legacy home root)
;; - package updates are package-manager or self-update driven via entrypoint

(allow file-read* file-write*
    (home-prefix "/.local/bin/goose")
    (home-subpath "/.goose")
    (home-subpath "/.config/goose")
    (home-subpath "/.cache/goose")
    (home-subpath "/.local/share/goose")
    (home-subpath "/.local/state/goose")
    (home-subpath "/Library/Application Support/Block.goose")
)

;; Keychain write access: Goose stores secrets via keyring crate (apple-native).
(allow file-write*
    (home-subpath "/Library/Keychains")
    (home-literal "/Library/Preferences/com.apple.security.plist")
)
